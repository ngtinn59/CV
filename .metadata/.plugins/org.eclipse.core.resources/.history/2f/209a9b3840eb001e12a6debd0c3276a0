package ctu.cit;

import javax.json.Json;
import javax.json.JsonObject;
import javax.ws.rs.core.Response;

public class ProfileRespone {
    private UserResponsitory repository = new UserResponsitory();

    public Response showProfile(int userId) {
        Profile profile = repository.getProfileByUserId(userId);

        if (profile == null) {
            JsonObject jsonError = Json.createObjectBuilder()
                    .add("error", "Oops! Profile not found. Maybe it's hiding in a parallel universe?")
                    .build();
            return Response.status(Response.Status.NOT_FOUND).entity(jsonError).build();
        }

        JsonObject jsonResponse = Json.createObjectBuilder()
                .add("ğŸ‘¤ Name", profile.getName())
                .add("ğŸ“ Title", profile.getTitle())
                .add("ğŸ“ Phone", profile.getPhone())
                .add("ğŸ“§ Email", profile.getEmail())
                .add("ğŸ‚ Birthday", profile.getBirthday()
                .add("ğŸ–¼ï¸ Image", profile.getImage())
                .add("âš§ï¸ Gender", profile.getGender() ? "Male" : "Female")
                .add("ğŸ“ Location", profile.getLocation())
                .add("ğŸŒ Website", profile.getWebsite())
                .build();

        return Response.ok().entity(jsonResponse).build();
    }
}
